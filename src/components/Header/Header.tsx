import React, { useState } from "react";
import { Link, NavLink, useNavigate } from "react-router-dom";

export const Header = () => {
  const [openHeader, setOpenHeader] = useState(true);
  const navigate = useNavigate();

  if (!localStorage.getItem("access_token")) {
    return (
      <header className="bg-black border-b border-middle-gray ">
        <div className="h-10  flex justify-end items-center px-5">
          <button onClick={() => setOpenHeader((previous) => !previous)}>
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg"
              className="fill-middle-gray"
              fill="red"
            >
              <path
                d="M19 1L1 19"
                className="stroke-middle-gray"
                strokeWidth="1.5"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <path
                fill="middle-gray"
                className="stroke-middle-gray"
                d="M1 1L19 19"
                strokeWidth="1.5"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
          </button>
        </div>
        {openHeader && (
          <nav className="flex justify-center text-middle-gray mx-auto lg:max-w-xs">
            <NavLink
              to="/signup"
              className={({ isActive }) =>
                `px-4 py-3 flex-1 flex justify-center items-center border-b-2 border-transparent ${
                  isActive ? " text-white border-white" : ""
                } `
              }
            >
              Sign Up
            </NavLink>
            <NavLink
              to="/login"
              className={({ isActive }) =>
                `px-4 py-3 flex-1 flex justify-center items-center border-b-2 border-transparent ${
                  isActive ? " text-white border-white" : ""
                } `
              }
            >
              Log In
            </NavLink>
          </nav>
        )}
      </header>
    );
  } else {
    return (
      <header className="bg-dark-blue flex justify-between text-white px-2">
        <svg
          width="149"
          height="48"
          viewBox="0 0 149 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0_6_513)">
            <path
              d="M14.6542 8.6682L0.668885 22.642C-0.0829877 23.3933 -0.0829877 24.6067 0.668885 25.3579L14.6542 39.3317C15.4061 40.083 16.6205 40.083 17.3723 39.3317L23.2362 33.4727C23.9095 32.7999 23.9095 31.7091 23.2362 31.0363C22.5628 30.3635 21.4711 30.3635 20.7977 31.0363L16.3524 35.4779C16.1653 35.6649 15.8812 35.6649 15.6941 35.4779L4.52584 24.3189C4.3387 24.1319 4.3387 23.8481 4.52584 23.6611L15.6941 12.502C15.8812 12.315 16.1653 12.315 16.3524 12.502L20.7977 16.9437C21.4711 17.6165 22.5628 17.6165 23.2362 16.9437C23.9095 16.2709 23.9095 15.1801 23.2362 14.5073L17.373 8.64888C16.618 7.91388 15.4032 7.91983 14.6542 8.6682Z"
              fill="url(#paint0_linear_6_513)"
            />
            <path
              d="M14.6542 8.6682L0.668885 22.642C-0.0829877 23.3933 -0.0829877 24.6067 0.668885 25.3579L14.6542 39.3317C15.4061 40.083 16.6205 40.083 17.3723 39.3317L23.2362 33.4727C23.9095 32.7999 23.9095 31.7091 23.2362 31.0363C22.5628 30.3635 21.4711 30.3635 20.7977 31.0363L16.3524 35.4779C16.1653 35.6649 15.8812 35.6649 15.6941 35.4779L4.52584 24.3189C4.3387 24.1319 4.3387 23.8481 4.52584 23.6611L15.6941 12.502C16.1601 12.1003 16.9204 11.2866 18.0368 11.0963C18.8666 10.9549 19.7737 11.2662 20.7583 12.0302C20.1 11.3725 18.9716 10.2454 17.373 8.64888C16.618 7.91388 15.4032 7.91983 14.6542 8.6682Z"
              fill="url(#paint1_linear_6_513)"
            />
            <path
              d="M24.5898 29.7366C25.2631 30.4095 26.3549 30.4095 27.0282 29.7366L31.3537 25.4148C32.1055 24.6635 32.1055 23.4501 31.3538 22.6989L26.9906 18.3548C26.3156 17.6828 25.2236 17.6838 24.5498 18.357C23.8765 19.0298 23.8765 20.1206 24.5498 20.7934L27.4967 23.7379C27.6839 23.9249 27.6839 24.2087 27.4967 24.3957L24.5898 27.3002C23.9164 27.973 23.9164 29.0638 24.5898 29.7366Z"
              fill="url(#paint2_linear_6_513)"
            />
            <path
              d="M16.083 27.8428C18.1685 27.8428 19.8591 26.1536 19.8591 24.0698C19.8591 21.9861 18.1685 20.2969 16.083 20.2969C13.9976 20.2969 12.307 21.9861 12.307 24.0698C12.307 26.1536 13.9976 27.8428 16.083 27.8428Z"
              fill="url(#paint3_linear_6_513)"
            />
          </g>
          <path
            d="M52.3672 27.3633H47.7441L46.8652 30H44.0615L48.8252 17.2031H51.2686L56.0586 30H53.2549L52.3672 27.3633ZM48.4561 25.2275H51.6553L50.0469 20.4375L48.4561 25.2275ZM59.0029 20.4902L59.082 21.5889C59.7617 20.7393 60.6729 20.3145 61.8154 20.3145C62.8232 20.3145 63.5732 20.6104 64.0654 21.2021C64.5576 21.7939 64.8096 22.6787 64.8213 23.8564V30H62.2812V23.918C62.2812 23.3789 62.1641 22.9893 61.9297 22.749C61.6953 22.5029 61.3057 22.3799 60.7607 22.3799C60.0459 22.3799 59.5098 22.6846 59.1523 23.2939V30H56.6123V20.4902H59.0029ZM69.7959 18.1523V20.4902H71.4219V22.3535H69.7959V27.0996C69.7959 27.4512 69.8633 27.7031 69.998 27.8555C70.1328 28.0078 70.3906 28.084 70.7715 28.084C71.0527 28.084 71.3018 28.0635 71.5186 28.0225V29.9473C71.0205 30.0996 70.5078 30.1758 69.9805 30.1758C68.1992 30.1758 67.291 29.2764 67.2559 27.4775V22.3535H65.8672V20.4902H67.2559V18.1523H69.7959ZM77.4863 30V17.2031H81.4238C82.5488 17.2031 83.5537 17.458 84.4385 17.9678C85.3291 18.4717 86.0234 19.1924 86.5215 20.1299C87.0195 21.0615 87.2686 22.1221 87.2686 23.3115V23.9004C87.2686 25.0898 87.0225 26.1475 86.5303 27.0732C86.0439 27.999 85.3555 28.7168 84.4648 29.2266C83.5742 29.7363 82.5693 29.9941 81.4502 30H77.4863ZM80.123 19.3389V27.8818H81.3975C82.4287 27.8818 83.2168 27.5449 83.7617 26.8711C84.3066 26.1973 84.585 25.2334 84.5967 23.9795V23.3027C84.5967 22.002 84.3271 21.0176 83.7881 20.3496C83.249 19.6758 82.4609 19.3389 81.4238 19.3389H80.123ZM93.4033 30.1758C92.0088 30.1758 90.8721 29.748 89.9932 28.8926C89.1201 28.0371 88.6836 26.8975 88.6836 25.4736V25.2275C88.6836 24.2725 88.8682 23.4199 89.2373 22.6699C89.6064 21.9141 90.1279 21.334 90.8018 20.9297C91.4814 20.5195 92.2549 20.3145 93.1221 20.3145C94.4229 20.3145 95.4453 20.7246 96.1895 21.5449C96.9395 22.3652 97.3145 23.5283 97.3145 25.0342V26.0713H91.2588C91.3408 26.6924 91.5869 27.1904 91.9971 27.5654C92.4131 27.9404 92.9375 28.1279 93.5703 28.1279C94.5488 28.1279 95.3135 27.7734 95.8643 27.0645L97.1123 28.4619C96.7314 29.001 96.2158 29.4229 95.5654 29.7275C94.915 30.0264 94.1943 30.1758 93.4033 30.1758ZM93.1133 22.3711C92.6094 22.3711 92.1992 22.541 91.8828 22.8809C91.5723 23.2207 91.373 23.707 91.2852 24.3398H94.8184V24.1377C94.8066 23.5752 94.6543 23.1416 94.3613 22.8369C94.0684 22.5264 93.6523 22.3711 93.1133 22.3711ZM103.915 27.3721C103.915 27.0615 103.76 26.8184 103.449 26.6426C103.145 26.4609 102.652 26.2998 101.973 26.1592C99.7109 25.6846 98.5801 24.7236 98.5801 23.2764C98.5801 22.4326 98.9287 21.7295 99.626 21.167C100.329 20.5986 101.246 20.3145 102.377 20.3145C103.584 20.3145 104.548 20.5986 105.269 21.167C105.995 21.7354 106.358 22.4736 106.358 23.3818H103.818C103.818 23.0186 103.701 22.7197 103.467 22.4854C103.232 22.2451 102.866 22.125 102.368 22.125C101.94 22.125 101.609 22.2217 101.375 22.415C101.141 22.6084 101.023 22.8545 101.023 23.1533C101.023 23.4346 101.155 23.6631 101.419 23.8389C101.688 24.0088 102.14 24.1582 102.772 24.2871C103.405 24.4102 103.938 24.5508 104.372 24.709C105.714 25.2012 106.385 26.0537 106.385 27.2666C106.385 28.1338 106.013 28.8369 105.269 29.376C104.524 29.9092 103.563 30.1758 102.386 30.1758C101.589 30.1758 100.88 30.0352 100.259 29.7539C99.6436 29.4668 99.1602 29.0771 98.8086 28.585C98.457 28.0869 98.2812 27.5508 98.2812 26.9766H100.689C100.713 27.4277 100.88 27.7734 101.19 28.0137C101.501 28.2539 101.917 28.374 102.438 28.374C102.925 28.374 103.291 28.2832 103.537 28.1016C103.789 27.9141 103.915 27.6709 103.915 27.3721ZM110.709 30H108.16V20.4902H110.709V30ZM108.011 18.0293C108.011 17.6484 108.137 17.335 108.389 17.0889C108.646 16.8428 108.995 16.7197 109.435 16.7197C109.868 16.7197 110.214 16.8428 110.472 17.0889C110.729 17.335 110.858 17.6484 110.858 18.0293C110.858 18.416 110.727 18.7324 110.463 18.9785C110.205 19.2246 109.862 19.3477 109.435 19.3477C109.007 19.3477 108.661 19.2246 108.397 18.9785C108.14 18.7324 108.011 18.416 108.011 18.0293ZM112.44 25.1748C112.44 23.7158 112.786 22.541 113.478 21.6504C114.175 20.7598 115.112 20.3145 116.29 20.3145C117.333 20.3145 118.145 20.6719 118.725 21.3867L118.83 20.4902H121.133V29.6836C121.133 30.5156 120.942 31.2393 120.562 31.8545C120.187 32.4697 119.656 32.9385 118.971 33.2607C118.285 33.583 117.482 33.7441 116.562 33.7441C115.865 33.7441 115.186 33.6035 114.523 33.3223C113.861 33.0469 113.36 32.6895 113.021 32.25L114.146 30.7031C114.778 31.4121 115.546 31.7666 116.448 31.7666C117.122 31.7666 117.646 31.585 118.021 31.2217C118.396 30.8643 118.584 30.3545 118.584 29.6924V29.1826C117.998 29.8447 117.228 30.1758 116.272 30.1758C115.13 30.1758 114.204 29.7305 113.495 28.8398C112.792 27.9434 112.44 26.7568 112.44 25.2803V25.1748ZM114.98 25.3594C114.98 26.2207 115.153 26.8975 115.499 27.3896C115.845 27.876 116.319 28.1191 116.923 28.1191C117.696 28.1191 118.25 27.8291 118.584 27.249V23.25C118.244 22.6699 117.696 22.3799 116.94 22.3799C116.331 22.3799 115.851 22.6289 115.499 23.127C115.153 23.625 114.98 24.3691 114.98 25.3594ZM125.431 20.4902L125.51 21.5889C126.189 20.7393 127.101 20.3145 128.243 20.3145C129.251 20.3145 130.001 20.6104 130.493 21.2021C130.985 21.7939 131.237 22.6787 131.249 23.8564V30H128.709V23.918C128.709 23.3789 128.592 22.9893 128.357 22.749C128.123 22.5029 127.733 22.3799 127.188 22.3799C126.474 22.3799 125.938 22.6846 125.58 23.2939V30H123.04V20.4902H125.431Z"
            fill="white"
          />
          <defs>
            <linearGradient
              id="paint0_linear_6_513"
              x1="14.7836"
              y1="8.10223"
              x2="28.0737"
              y2="16.2183"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#4285EB" />
              <stop offset="1" stop-color="#2EC7FF" />
            </linearGradient>
            <linearGradient
              id="paint1_linear_6_513"
              x1="16.5662"
              y1="8.10223"
              x2="10.0021"
              y2="42.0272"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#29CDFF" />
              <stop offset="0.378601" stop-color="#148EFF" />
              <stop offset="1" stop-color="#0A60FF" />
            </linearGradient>
            <linearGradient
              id="paint2_linear_6_513"
              x1="29.5314"
              y1="16.2439"
              x2="20.9905"
              y2="29.6012"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#FA816E" />
              <stop offset="0.414726" stop-color="#F74A5C" />
              <stop offset="1" stop-color="#F51D2C" />
            </linearGradient>
            <linearGradient
              id="paint3_linear_6_513"
              x1="17.4521"
              y1="17.6037"
              x2="14.6103"
              y2="28.9714"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#FA8E7D" />
              <stop offset="0.512635" stop-color="#F74A5C" />
              <stop offset="1" stop-color="#F51D2C" />
            </linearGradient>
            <clipPath id="clip0_6_513">
              <rect
                width="32"
                height="32"
                fill="white"
                transform="translate(0 8)"
              />
            </clipPath>
          </defs>
        </svg>
        <button
          onClick={() => {
            localStorage.removeItem("access_token");
            navigate("/login");
          }}
        >
          Log Out
        </button>
      </header>
    );
  }
};
